# Cine360

## 쯈u칠 es cine 360?游닂

El proyecto consta de una innovadora idea la cual consiste en la implementaci칩n de 7 pel칤culas por semana (1 por d칤a), estas tienen una tem치tica concreta que en este caso son los diferentes g칠neros de cine.(De esta forma se le da sentido al nombre del proyecto ya que realiza un viaje 360 con los diferentes g칠neros de cine.)


## 쯈u칠 metodolog칤a he utilizado para este desarrollo?

Para el desarrollo de este proyecot he utilizado las metodolog칤as 치giles, mas concretamente la metodolog칤a llamada __Scrum__, el motivo es que debido a las entregas que se nos piden que son en periodos de tiempo muy marcados y el material a entregar es conciso esto conbina perfectamente con los sprints, en los cuales puedo definir que objetivos quiero cumplir y cuales debo cumplir obligatoriamente para realizar la entrega de manera correcta.

### Video acerca de Scrum
[![alt text](image-3.png)]([(https://www.youtube.com/watch?v=HhC75IonpOU)])



## 쯈ue usuarios formaran parte de la aplicaci칩n? 游븸

Dentro de la aplicaci칩n tendremos dos grupos de usuarios los cuales tendran diferentes acciones y funciones a realizar y estos seran __administrador__ y __usuario__.

## 쯈u칠 acciones podra realizar el usuario?

El usuario podra relizar diferentes funciones las cuales se van a enumerar y posteriormente explicar:

| Acciones B치sicas |Acciones de Compras |  Devolver|
|----------------|----------------------|-------------------------|
| Registrares    | Comprar Promociones  | Devolver Promociones |
| Iniciar Sesi칩n | Comprar Packs de comida| Devolver Packs de comida|
|Modificar Perfil| Comprar Butacas      |   Devolver Butacas| 

## Explicaci칩n de las acciones del usuario

En priemr lugar tenemos al acci칩n de __registrarse__, que le permitira al usuario crear una cuenta en la aplicaci칩n para poder adquirir entradas, promociones o packs de comida.

En segundo lugar tenemos la acci칩n de __iniciar sesi칩n__, la cual permitira al usuario acceder a su cuenta anteriormente creada.

En tercer lugar tenemos la acci칩n de __realizar cambios en su perfil__ que le permitira al usuario camiar desde _ajustes_ los diferentes datos acerca de su cuent que son _nombre del usuario_, _correo electr칩nico_ y _cambiar la contrase침a_.

En cuarto lugar tenemos la acci칩n de __navegar por todas sus ventanas__ que consistira en que pueda ver todo el contenido al cual se le permita acceder.

En quinto lugar tenemos __visualizar todas las pel칤culas disponibles__ de forma que pueda acceder a las semanas y visualizar tanto el g칠nero de pe칤culas que se emitiran durante esa semana y las pel칤culas emitidas ademas de informaci칩n acerca de estas.

En sexto lugar tenemos __reserva de butacas__ el usuario podra acceder a la visualizaci칩n de una sala de cine y ver qeu butacas estan libre y cuales ocupadas, para asi poder adquirir una butaca sin generar problemas de malentendidos.

En septimo lugar tenemos __compra de packs de comida__ el usuario accedera a un apartado en el cual se le mostrara una imagen con informaci칩n y el precio sobre los diferentes packs de comida que se ofrecen en cine 360, adem치s de la opci칩n de comprarla por la app.

En octavo lugar tenemos __compra de promociones__ el usuario podra acceder a un apartado donde se mostrara toda la informaci칩n necesario acerca de la promoci칩n y la opci칩n de adquirirlo por la app.

En noveno lugar tenemos __devovler productos__ el usuario podra realizar la devoluci칩n de bu치tacas adquiridas para ver una pel칤cula, libreandola asi para otros usuarios, packs de comida y promociones.


## 쯈u칠 acciones realizara el administrador?

El administrador podra realizar acciones meramente necesarias y administrativas y estas van a ser enumeradas y posteriormente explicadas.

1. Insertar pel칤culas.
2. Insertar promociones.
3. Insertar packs de comida. 
4. Insertar directores.
5. Insertar actores.
6. Modificar pel칤culas.
7. Modificar promociones.
8. Modificar packs de comida.
9. Modificar directores.
10. Modificar actores.
11. Eliminar poel칤culas.
12. Eliminar promociones.
13. Eliminar packs de comida.
14. Elimiar directores.
15. Eliminar acotres.

## Explicaci칩n de las acciones del administrador.

En __primer lugar__ tenemos la acci칩n de insertar __pel칤culas__, esta acci칩n le permitira al administrador a침adir nuevas pel칤culas y insertar la informaci칩n necesaria acerca de esta.

En __segundo lugar__ tenemos la acci칩n de insertar __promociones__, esta acci칩n le permitira al administrador a침adir nuevas promociones y insertar la informaci칩n necesaria acerca de esta.

En __tercer lugar__ tenemos la acci칩n de insertar __packs de comida__, esta acci칩n le permitira al administrador a침adir nuevos packs de comida y insertar la informaci칩n necesaria acerca de esta.

En __cuarto lugar__ tenemos la acci칩n de insertar __directores__, esta acci칩n le permitira al administrador a침adir nuevos directores y insertar la informaci칩n necesaria acerca de esta.

En __quinto lugar__ tenemos la acci칩n de insertar __actores__, esta acci칩n le permitira al administrador a침adir nuevos actores y insertar la informaci칩n necesaria acerca de esta.

En __sexto lugar__ tenemos la acci칩n de modificar __pel칤culas__, esta acci칩n le permitira al administrador modificar la informaci칩n acerca de las diferentes pel칤culas disponibles en la app.


En __s칠ptimo lugar__ tenemos la acci칩n de modificar __promociones__, esta acci칩n le permitira al administrador modificar la informaci칩n acerca de las diferentes promociones disponibles en la app.

En __octavo lugar__ tenemos la acci칩n de modificar  __packs de comida__, esta acci칩n le permitira al administrador modificar la informaci칩n acerca de las diferentes packs de comida disponibles en la app.

En __noveno lugar__ tenemos la acci칩n de modificar  __directores__, esta acci칩n le permitira al administrador modificar la informaci칩n acerca de las diferentes directores disponibles en la app.

En __d칠cimo lugar__ tenemos la acci칩n de modificar  __actores__, esta acci칩n le permitira al administrador modificar la informaci칩n acerca de las diferentes actores disponibles en la app.


# 쯈u칠 herramientos y lenguajes he utilizado para su desarrollo? 游눹

Para el desarrollo de este proyecto he utilizado diferentes herramientas las cuales inidcare ahora y explicare que funciones tienen.

## Lenguaje de programaci칩n y base de datos utilizada

- Kotlin
- Sqlite

__Kotlin__ es un lenguaje de programaci칩n desarrollado a partir de java.

__Sqlite__ es una base de datos.


### Herramientas usadas para el desarrollo

| Entorno de desarrollo | MokUps |  Control de Versiones|
|----------------|---------------|---------------------- |
| Androdi Studio        | Figma  |  Github |



__Andorid Studio__ es un IDE utilizado principalmete para el desarrollo de aplicaciones orientadas a los usuarios de m칩vil, adem치s permite la creaci칩n de la base de datos.

__Figma__ es una herramienta _on-line_ utilizada para el dise침o de los mockups y realizaci칩n de diferentes pruebas para tener una idea clara y una idea inicial de como quiero que sea el dise침o de la aplicaci칩n.

__GitHub__ sistema de contol de versiones _on-line_ utilizado para poder realizar todo tipo de pruebas y realizar el desarrollo de la app mediante la creaci칩n de diferentes _ramas_ las cuales en caso de fallar no seria un problema gracias al guardado de versiones y en ning칰n momento se veria afectado el proyecto final.

__Canva__ utilizado para el dise침o de todos los logos, packs de comida, promociones.

# <center><p style="color:yellow;">Diagrama de Flujo</p></center>


### <u> Registro del usuario en la app </u>
```mermaid
    graph TD
        A[Inicio] --> B(Usuario ingresa datos)
        B --> C{쮻atos v치lidos?};
        C -- No --> D[Muestra mensaje de error];
        D --> B;
        C -- S칤 --> E[Enviar datos al servidor];
        E --> F{쯋suario ya registrado?};
        F -- S칤 --> G[Muestra mensaje de error];
        G --> B;
        F -- No --> H[Guardar usuario en la base de datos];
        H --> I[Muestra mensaje de 칠xito];
        I --> J[Fin];
```


###  <u> Inicio de sesi칩n del usuario en la app</u>
```mermaid
    graph TD 
        A[Inicio] --> B[Escribe tu contrase침a];
        B --> C((Variable: pass));
        C --> D{쮺ontrase침a correcta?};
        
        D -- S칤 --> E[Login correcto];
        D -- No --> F[Intentar de nuevo];
        
        F --> B; 
        E --> G[(Fin)];
```

###  <u>Compra del usuario de una promoci칩n</u>

```mermaid
    graph TD;
        A[Inicio - Index] --> B[Usuario navega a Promociones];
        B --> C[Muestra lista de promociones];
        C --> D[Usuario selecciona una promoci칩n];
        D --> E{쮼st치 disponible?};

        E -- No --> F[Muestra mensaje: No disponible] --> C;
        E -- S칤 --> G[Usuario agrega promoci칩n al carrito];
        
        G --> H[Usuario procede al pago];
        H --> I{쯇ago exitoso?};

        I -- No --> J[Muestra error de pago] --> H;
        I -- S칤 --> K[Compra confirmada];
        
        K --> L[(Fin)];
```

### <u>Compra del usuario de un pack de comida</u>

```mermaid
        graph TD;
            A[Inicio - Index] --> B[Usuario navega a Packs de comida];
            B --> C[Muestra lista de packs de comida];
            C --> D[Usuario selecciona un pack de comida];
            D --> E{쮼st치 disponible?};

            E -- No --> F[Muestra mensaje: No disponible] --> C;
            E -- S칤 --> G[Usuario agrega pack de comida al carrito];
            
            G --> H[Usuario procede al pago];
            H --> I{쯇ago exitoso?};

            I -- No --> J[Muestra error de pago] --> H;
            I -- S칤 --> K[Compra confirmada];
            
            K --> L[(Fin)];
```

### <u>Compra del usuario de una butaca para una pel칤cula</u>
```mermaid
    graph TD;
        A[Inicio] --> B[El usuario selecciona pel칤cula, funci칩n y butaca]
        B --> C{쮹utaca disponible?}
        C -- No --> D[Mostrar mensaje de error] --> E[Fin]
        C -- S칤 --> F[Reservar temporalmente la butaca]
        F --> G[El usuario ingresa datos de pago]
        G --> H[Procesar pago]
        H --> I{쯇ago aprobado?}
        I -- No --> J[Cancelar reserva de butaca] --> D
        I -- S칤 --> K[Confirmar compra y generar ticket]
        K --> L[Mostrar ticket al usuario]
        L --> E
```


# <center><p style="color:green;">Diagramas de Secuencia</p></center>

### <u>Diagrama de registro de un usuario en la app</u>

```mermaid
    sequenceDiagram
        participant Usuario
        participant App
        participant Servidor
        participant BaseDeDatos

        Usuario->>App: Ingresa datos de registro
        App->>Servidor: Env칤a datos de registro
        Servidor->>BaseDeDatos: Verifica si el usuario ya existe
        BaseDeDatos-->>Servidor: Respuesta (existe/no existe)
        
        alt Usuario no existe
            Servidor->>BaseDeDatos: Guarda nuevos datos de usuario
            BaseDeDatos-->>Servidor: Confirmaci칩n de guardado
            Servidor-->>App: Registro exitoso
            App-->>Usuario: Muestra mensaje de 칠xito
        else Usuario ya existe
            Servidor-->>App: Error - Usuario ya registrado
            App-->>Usuario: Muestra mensaje de error
        end
```

### <u>Diagrama de inicio de sesi칩n de un usuario en la app</u>

```mermaid
    sequenceDiagram
        participant Usuario
        participant App
        participant Servidor
        participant BaseDeDatos

        Usuario->>App: Ingresa credenciales
        App->>Servidor: Env칤a credenciales
        Servidor->>BaseDeDatos: Verifica credenciales
        BaseDeDatos-->>Servidor: Respuesta (v치lidas/inv치lidas)
        
        alt Credenciales v치lidas
            Servidor-->>App: Autenticaci칩n exitosa
            App-->>Usuario: Muestra pantalla de inicio
        else Credenciales inv치lidas
            Servidor-->>App: Error - Credenciales incorrectas
            App-->>Usuario: Muestra mensaje de error
        end
```


### <u>Diagrama de compra de una butaca</u>

```mermaid
        sequenceDiagram
            participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona pel칤cula, funci칩n y butaca
            App->>Servidor: Env칤a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la butaca
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt Butaca disponible
                Servidor->>BaseDeDatos: Reserva temporalmente la butaca
                Servidor-->>App: Solicita confirmaci칩n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci칩n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela reserva de butaca
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else Butaca no disponible
                Servidor-->>App: Error - Butaca no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```
        
        
 ### <u>Diagrama de compra de una promocion</u>
        
 ```mermaid  
 sequenceDiagram     
         participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona promocion
            App->>Servidor: Env칤a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la promocion
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt promocion disponible
                Servidor->>BaseDeDatos: Compra temporalmente la promocion
                Servidor-->>App: Solicita confirmaci칩n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci칩n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela compra de promocion
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else promocion no disponible
                Servidor-->>App: Error - promocion no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```        
        
### <u>Diagrama de compra de un pack de comida</u>

```mermaid      
sequenceDiagram  
         participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona pack de comida
            App->>Servidor: Env칤a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la pack de comida
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt pack de comida disponible
                Servidor->>BaseDeDatos: Compra temporalmente la pack de comida
                Servidor-->>App: Solicita confirmaci칩n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci칩n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela compra de pack de comida
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else pack de comida no disponible
                Servidor-->>App: Error - pack de comida no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```

### <u>Diagrama de compra de una butaca</u>

```mermaid
sequenceDiagram
    participant Usuario
    participant App
    participant Servidor
    participant BaseDeDatos
    participant PasarelaDePago

    Usuario->>App: Selecciona pel칤cula, funci칩n y butaca
    App->>Servidor: Env칤a solicitud de reserva
    Servidor->>BaseDeDatos: Verifica disponibilidad de la butaca
    BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
    
    alt Butaca disponible
        Servidor->>BaseDeDatos: Reserva temporalmente la butaca
        Servidor-->>App: Solicita confirmaci칩n de pago
        Usuario->>App: Ingresa datos de pago
        App->>PasarelaDePago: Procesa pago
        PasarelaDePago-->>Servidor: Pago aprobado/rechazado
        
        alt Pago aprobado
            Servidor->>BaseDeDatos: Confirma compra y guarda ticket
            BaseDeDatos-->>Servidor: Compra registrada
            Servidor-->>App: Confirmaci칩n de compra
            App-->>Usuario: Muestra ticket y detalles de compra
        else Pago rechazado
            Servidor->>BaseDeDatos: Cancela reserva de butaca
            Servidor-->>App: Error - Pago rechazado
            App-->>Usuario: Muestra mensaje de error
        end
    else Butaca no disponible
        Servidor-->>App: Error - Butaca no disponible
        App-->>Usuario: Muestra mensaje de error
    end
```


www

# <center><p style="color:red;">Diagramas de entidad Relacion </p></center>

### <u>Diagrama de registro</u>

```mermaid
    erDiagram
    Usuario || --o{ Registro : realiza

    Usuario {
        int id_usuario
        string nombre
        string email
        string contrasena
    }

    Registro {
        int id_registro
        int id_usuario
        string estado
    }

```

### <u>Diagrama de inicio de sesi칩n</u>

```mermaid        
        erDiagram
            Usuario {
                int id_usuario PK
                string nombre
                string correo
                string contrasena
                boolean estado
            }
            
            Rol {
                int id_rol PK
                string nombre_rol
            }
            
            Historial_Sesion {
                int id_historial PK
                int id_usuario FK
                datetime fecha_inicio
                datetime fecha_fin
                string direccion_ip
            }
            
           
            Usuario ||--o{ Historial_Sesion : "tiene"
            Usuario }o--|| Rol : "puede tener" 
```


 # <center><p style="color:red;">Diagramas de entidad Relacion </p></center>
        
 ### <u>Diagrama de registro</u>

```mermaid        
        erDiagram
        
            Usuario || --o{ Registro : realiza
        
            Usuario {
        
                int id_usuario
                string nombre
                string email
                string contrasena
            }
        
            Registro{
        
                int id_registro
                int id_usuario
                strign estado
        
            }
        
            
```

### Diagrama Inicio de sesion

```mermaid
    erDiagram
        Usuario {
            int id_usuario PK
            string nombre
            string correo
            string contrasena
            boolean estado
        }
        
        Rol {
            int id_rol PK
            string nombre_rol
        }
        
        Historial_Sesion {
            int id_historial PK
            int id_usuario FK
            datetime fecha_inicio
            datetime fecha_fin
            string direccion_ip
        }
        
        Usuario ||--o{ Historial_Sesion : "tiene"
        Usuario }o--|| Rol : "puede tener"
 ```


![alt text](image.png)
