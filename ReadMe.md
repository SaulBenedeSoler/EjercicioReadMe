# Cine360

## 驴Qu茅 es cine 360?

El proyecto consta de una innovadora idea la cual consiste en la implementaci贸n de 7 pel铆culas por semana (1 por d铆a), estas tienen una tem谩tica concreta que en este caso son los diferentes g茅neros de cine.(De esta forma se le da sentido al nombre del proyecto ya que realiza un viaje 360 con los diferentes g茅neros de cine.)


## 驴Qu茅 metodolog铆a he utilizado para este desarrollo?

Para el desarrollo de este proyecot he utilizado las metodolog铆as 谩giles, mas concretamente la metodolog铆a llamada __Scrum__, el motivo es que debido a las entregas que se nos piden que son en periodos de tiempo muy marcados y el material a entregar es conciso esto conbina perfectamente con los sprints, en los cuales puedo definir que objetivos quiero cumplir y cuales debo cumplir obligatoriamente para realizar la entrega de manera correcta.

### Video acerca de Scrum
[![alt text](image-1.png)](https://www.youtube.com/watch?v=HhC75IonpOU)

### Web de explicaci贸n acerca de que es scrum

Si quieres saber m谩s acerca de [SCRUM] puncha sobre la palabra.

[SCRUM]: https://proyectosagiles.org/que-es-scrum/

## 驴Que usuarios formaran parte de la aplicaci贸n? 

Dentro de la aplicaci贸n tendremos dos grupos de usuarios los cuales tendran diferentes acciones y funciones a realizar y estos seran __administrador__ y __usuario__.

## 驴Qu茅 acciones podra realizar el usuario?

El usuario podra relizar diferentes funciones las cuales se van a enumerar y posteriormente explicar:

| Acciones B谩sicas |Acciones de Compras |  Devolver|
|----------------|----------------------|-------------------------|
| Registrares    | Comprar Promociones  | Devolver Promociones |
| Iniciar Sesi贸n | Comprar Packs de comida| Devolver Packs de comida|
|Modificar Perfil| Comprar Butacas      |   Devolver Butacas| 

## Explicaci贸n de las acciones del usuario

En priemr lugar tenemos al acci贸n de __registrarse__, que le permitira al usuario crear una cuenta en la aplicaci贸n para poder adquirir entradas, promociones o packs de comida.

En segundo lugar tenemos la acci贸n de __iniciar sesi贸n__, la cual permitira al usuario acceder a su cuenta anteriormente creada.

En tercer lugar tenemos la acci贸n de __realizar cambios en su perfil__ que le permitira al usuario camiar desde _ajustes_ los diferentes datos acerca de su cuent que son _nombre del usuario_, _correo electr贸nico_ y _cambiar la contrase帽a_.

En cuarto lugar tenemos la acci贸n de __navegar por todas sus ventanas__ que consistira en que pueda ver todo el contenido al cual se le permita acceder.

En quinto lugar tenemos __visualizar todas las pel铆culas disponibles__ de forma que pueda acceder a las semanas y visualizar tanto el g茅nero de pe铆culas que se emitiran durante esa semana y las pel铆culas emitidas ademas de informaci贸n acerca de estas.

En sexto lugar tenemos __reserva de butacas__ el usuario podra acceder a la visualizaci贸n de una sala de cine y ver qeu butacas estan libre y cuales ocupadas, para asi poder adquirir una butaca sin generar problemas de malentendidos.

En septimo lugar tenemos __compra de packs de comida__ el usuario accedera a un apartado en el cual se le mostrara una imagen con informaci贸n y el precio sobre los diferentes packs de comida que se ofrecen en cine 360, adem谩s de la opci贸n de comprarla por la app.

En octavo lugar tenemos __compra de promociones__ el usuario podra acceder a un apartado donde se mostrara toda la informaci贸n necesario acerca de la promoci贸n y la opci贸n de adquirirlo por la app.

En noveno lugar tenemos __devovler productos__ el usuario podra realizar la devoluci贸n de bu谩tacas adquiridas para ver una pel铆cula, libreandola asi para otros usuarios, packs de comida y promociones.


## 驴Qu茅 acciones realizara el administrador?

El administrador podra realizar acciones meramente necesarias y administrativas y estas van a ser enumeradas y posteriormente explicadas.

1. Insertar pel铆culas.
2. Insertar promociones.
3. Insertar packs de comida. 
4. Insertar directores.
5. Insertar actores.
6. Modificar pel铆culas.
7. Modificar promociones.
8. Modificar packs de comida.
9. Modificar directores.
10. Modificar actores.
11. Eliminar poel铆culas.
12. Eliminar promociones.
13. Eliminar packs de comida.
14. Elimiar directores.
15. Eliminar acotres.

## Explicaci贸n de las acciones del administrador.

En __primer lugar__ tenemos la acci贸n de insertar __pel铆culas__, esta acci贸n le permitira al administrador a帽adir nuevas pel铆culas y insertar la informaci贸n necesaria acerca de esta.

En __segundo lugar__ tenemos la acci贸n de insertar __promociones__, esta acci贸n le permitira al administrador a帽adir nuevas promociones y insertar la informaci贸n necesaria acerca de esta.

En __tercer lugar__ tenemos la acci贸n de insertar __packs de comida__, esta acci贸n le permitira al administrador a帽adir nuevos packs de comida y insertar la informaci贸n necesaria acerca de esta.

En __cuarto lugar__ tenemos la acci贸n de insertar __directores__, esta acci贸n le permitira al administrador a帽adir nuevos directores y insertar la informaci贸n necesaria acerca de esta.

En __quinto lugar__ tenemos la acci贸n de insertar __actores__, esta acci贸n le permitira al administrador a帽adir nuevos actores y insertar la informaci贸n necesaria acerca de esta.

En __sexto lugar__ tenemos la acci贸n de modificar __pel铆culas__, esta acci贸n le permitira al administrador modificar la informaci贸n acerca de las diferentes pel铆culas disponibles en la app.


En __s茅ptimo lugar__ tenemos la acci贸n de modificar __promociones__, esta acci贸n le permitira al administrador modificar la informaci贸n acerca de las diferentes promociones disponibles en la app.

En __octavo lugar__ tenemos la acci贸n de modificar  __packs de comida__, esta acci贸n le permitira al administrador modificar la informaci贸n acerca de las diferentes packs de comida disponibles en la app.

En __noveno lugar__ tenemos la acci贸n de modificar  __directores__, esta acci贸n le permitira al administrador modificar la informaci贸n acerca de las diferentes directores disponibles en la app.

En __d茅cimo lugar__ tenemos la acci贸n de modificar  __actores__, esta acci贸n le permitira al administrador modificar la informaci贸n acerca de las diferentes actores disponibles en la app.


# 驴Qu茅 herramientos y lenguajes he utilizado para su desarrollo? 

Para el desarrollo de este proyecto he utilizado diferentes herramientas las cuales inidcare ahora y explicare que funciones tienen.

## Lenguaje de programaci贸n y base de datos utilizada

- Kotlin
- Sqlite

__Kotlin__ es un lenguaje de programaci贸n desarrollado a partir de java.

__Sqlite__ es una base de datos.


### Herramientas usadas para el desarrollo

| Entorno de desarrollo | MokUps |  Control de Versiones|
|----------------|---------------|---------------------- |
| Androdi Studio        | Figma  |  Github |



__Andorid Studio__ es un IDE utilizado principalmete para el desarrollo de aplicaciones orientadas a los usuarios de m贸vil, adem谩s permite la creaci贸n de la base de datos.

__Figma__ es una herramienta _on-line_ utilizada para el dise帽o de los mockups y realizaci贸n de diferentes pruebas para tener una idea clara y una idea inicial de como quiero que sea el dise帽o de la aplicaci贸n.

__GitHub__ sistema de contol de versiones _on-line_ utilizado para poder realizar todo tipo de pruebas y realizar el desarrollo de la app mediante la creaci贸n de diferentes _ramas_ las cuales en caso de fallar no seria un problema gracias al guardado de versiones y en ning煤n momento se veria afectado el proyecto final.

__Canva__ utilizado para el dise帽o de todos los logos, packs de comida, promociones.

# <center><p style="color:yellow;">Diagrama de Flujo</p></center>


### <u> Registro del usuario en la app </u>
```mermaid
    graph TD
        A[Inicio] --> B(Usuario ingresa datos)
        B --> C{驴Datos v谩lidos?};
        C -- No --> D[Muestra mensaje de error];
        D --> B;
        C -- S铆 --> E[Enviar datos al servidor];
        E --> F{驴Usuario ya registrado?};
        F -- S铆 --> G[Muestra mensaje de error];
        G --> B;
        F -- No --> H[Guardar usuario en la base de datos];
        H --> I[Muestra mensaje de 茅xito];
        I --> J[Fin];
```


###  <u> Inicio de sesi贸n del usuario en la app</u>
```mermaid
    graph TD 
        A[Inicio] --> B[Escribe tu contrase帽a];
        B --> C((Variable: pass));
        C --> D{驴Contrase帽a correcta?};
        
        D -- S铆 --> E[Login correcto];
        D -- No --> F[Intentar de nuevo];
        
        F --> B; 
        E --> G[(Fin)];
```

###  <u>Compra del usuario de una promoci贸n</u>

```mermaid
    graph TD;
        A[Inicio - Index] --> B[Usuario navega a Promociones];
        B --> C[Muestra lista de promociones];
        C --> D[Usuario selecciona una promoci贸n];
        D --> E{驴Est谩 disponible?};

        E -- No --> F[Muestra mensaje: No disponible] --> C;
        E -- S铆 --> G[Usuario agrega promoci贸n al carrito];
        
        G --> H[Usuario procede al pago];
        H --> I{驴Pago exitoso?};

        I -- No --> J[Muestra error de pago] --> H;
        I -- S铆 --> K[Compra confirmada];
        
        K --> L[(Fin)];
```

### <u>Compra del usuario de un pack de comida</u>

```mermaid
        graph TD;
            A[Inicio - Index] --> B[Usuario navega a Packs de comida];
            B --> C[Muestra lista de packs de comida];
            C --> D[Usuario selecciona un pack de comida];
            D --> E{驴Est谩 disponible?};

            E -- No --> F[Muestra mensaje: No disponible] --> C;
            E -- S铆 --> G[Usuario agrega pack de comida al carrito];
            
            G --> H[Usuario procede al pago];
            H --> I{驴Pago exitoso?};

            I -- No --> J[Muestra error de pago] --> H;
            I -- S铆 --> K[Compra confirmada];
            
            K --> L[(Fin)];
```

### <u>Compra del usuario de una butaca para una pel铆cula</u>
```mermaid
    graph TD;
        A[Inicio] --> B[El usuario selecciona pel铆cula, funci贸n y butaca]
        B --> C{驴Butaca disponible?}
        C -- No --> D[Mostrar mensaje de error] --> E[Fin]
        C -- S铆 --> F[Reservar temporalmente la butaca]
        F --> G[El usuario ingresa datos de pago]
        G --> H[Procesar pago]
        H --> I{驴Pago aprobado?}
        I -- No --> J[Cancelar reserva de butaca] --> D
        I -- S铆 --> K[Confirmar compra y generar ticket]
        K --> L[Mostrar ticket al usuario]
        L --> E
```


# <center><p style="color:green;">Diagramas de Secuencia</p></center>

### <u>Diagrama de registro de un usuario en la app</u>

```mermaid
    sequenceDiagram
        participant Usuario
        participant App
        participant Servidor
        participant BaseDeDatos

        Usuario->>App: Ingresa datos de registro
        App->>Servidor: Env铆a datos de registro
        Servidor->>BaseDeDatos: Verifica si el usuario ya existe
        BaseDeDatos-->>Servidor: Respuesta (existe/no existe)
        
        alt Usuario no existe
            Servidor->>BaseDeDatos: Guarda nuevos datos de usuario
            BaseDeDatos-->>Servidor: Confirmaci贸n de guardado
            Servidor-->>App: Registro exitoso
            App-->>Usuario: Muestra mensaje de 茅xito
        else Usuario ya existe
            Servidor-->>App: Error - Usuario ya registrado
            App-->>Usuario: Muestra mensaje de error
        end
```

### <u>Diagrama de inicio de sesi贸n de un usuario en la app</u>

```mermaid
    sequenceDiagram
        participant Usuario
        participant App
        participant Servidor
        participant BaseDeDatos

        Usuario->>App: Ingresa credenciales
        App->>Servidor: Env铆a credenciales
        Servidor->>BaseDeDatos: Verifica credenciales
        BaseDeDatos-->>Servidor: Respuesta (v谩lidas/inv谩lidas)
        
        alt Credenciales v谩lidas
            Servidor-->>App: Autenticaci贸n exitosa
            App-->>Usuario: Muestra pantalla de inicio
        else Credenciales inv谩lidas
            Servidor-->>App: Error - Credenciales incorrectas
            App-->>Usuario: Muestra mensaje de error
        end
```


### <u>Diagrama de compra de una butaca</u>

```mermaid
        sequenceDiagram
            participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona pel铆cula, funci贸n y butaca
            App->>Servidor: Env铆a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la butaca
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt Butaca disponible
                Servidor->>BaseDeDatos: Reserva temporalmente la butaca
                Servidor-->>App: Solicita confirmaci贸n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci贸n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela reserva de butaca
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else Butaca no disponible
                Servidor-->>App: Error - Butaca no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```
        
        
 ### <u>Diagrama de compra de una promocion</u>
        
 ```mermaid  
 sequenceDiagram     
         participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona promocion
            App->>Servidor: Env铆a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la promocion
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt promocion disponible
                Servidor->>BaseDeDatos: Compra temporalmente la promocion
                Servidor-->>App: Solicita confirmaci贸n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci贸n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela compra de promocion
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else promocion no disponible
                Servidor-->>App: Error - promocion no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```        
        
### <u>Diagrama de compra de un pack de comida</u>

```mermaid      
sequenceDiagram  
         participant Usuario
            participant App
            participant Servidor
            participant BaseDeDatos
            participant PasarelaDePago
        
            Usuario->>App: Selecciona pack de comida
            App->>Servidor: Env铆a solicitud de reserva
            Servidor->>BaseDeDatos: Verifica disponibilidad de la pack de comida
            BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
            
            alt pack de comida disponible
                Servidor->>BaseDeDatos: Compra temporalmente la pack de comida
                Servidor-->>App: Solicita confirmaci贸n de pago
                Usuario->>App: Ingresa datos de pago
                App->>PasarelaDePago: Procesa pago
                PasarelaDePago-->>Servidor: Pago aprobado/rechazado
                
                alt Pago aprobado
                    Servidor->>BaseDeDatos: Confirma compra y guarda ticket
                    BaseDeDatos-->>Servidor: Compra registrada
                    Servidor-->>App: Confirmaci贸n de compra
                    App-->>Usuario: Muestra ticket y detalles de compra
                else Pago rechazado
                    Servidor->>BaseDeDatos: Cancela compra de pack de comida
                    Servidor-->>App: Error - Pago rechazado
                    App-->>Usuario: Muestra mensaje de error
                end
            else pack de comida no disponible
                Servidor-->>App: Error - pack de comida no disponible
                App-->>Usuario: Muestra mensaje de error
            end
```

### <u>Diagrama de compra de una butaca</u>

```mermaid
sequenceDiagram
    participant Usuario
    participant App
    participant Servidor
    participant BaseDeDatos
    participant PasarelaDePago

    Usuario->>App: Selecciona pel铆cula, funci贸n y butaca
    App->>Servidor: Env铆a solicitud de reserva
    Servidor->>BaseDeDatos: Verifica disponibilidad de la butaca
    BaseDeDatos-->>Servidor: Respuesta (disponible/no disponible)
    
    alt Butaca disponible
        Servidor->>BaseDeDatos: Reserva temporalmente la butaca
        Servidor-->>App: Solicita confirmaci贸n de pago
        Usuario->>App: Ingresa datos de pago
        App->>PasarelaDePago: Procesa pago
        PasarelaDePago-->>Servidor: Pago aprobado/rechazado
        
        alt Pago aprobado
            Servidor->>BaseDeDatos: Confirma compra y guarda ticket
            BaseDeDatos-->>Servidor: Compra registrada
            Servidor-->>App: Confirmaci贸n de compra
            App-->>Usuario: Muestra ticket y detalles de compra
        else Pago rechazado
            Servidor->>BaseDeDatos: Cancela reserva de butaca
            Servidor-->>App: Error - Pago rechazado
            App-->>Usuario: Muestra mensaje de error
        end
    else Butaca no disponible
        Servidor-->>App: Error - Butaca no disponible
        App-->>Usuario: Muestra mensaje de error
    end
```


www

# <center><p style="color:red;">Diagramas de entidad Relacion </p></center>

### <u>Diagrama de registro</u>

```mermaid

%%{init: {'theme': 'base', 'themeVariables': {
    'primaryColor': '#00FF00',
    'labelBackground': '#FF0000',
    'primaryTextColor': '#0000FF',
    'lineColor': '#FF00FF',
    'primaryBorderColor': '#000000'
}}}%%

    erDiagram
    Usuario || --o{ Registro : realiza

    Usuario {
        int id_usuario
        string nombre
        string email
        string contrasena
    }

    Registro {
        int id_registro
        int id_usuario
        string estado
    }

```

### <u>Diagrama de inicio de sesi贸n</u>

```mermaid        
        erDiagram
            Usuario {
                int id_usuario PK
                string nombre
                string correo
                string contrasena
                boolean estado
            }
            
            Rol {
                int id_rol PK
                string nombre_rol
            }
            
            Historial_Sesion {
                int id_historial PK
                int id_usuario FK
                datetime fecha_inicio
                datetime fecha_fin
                string direccion_ip
            }
            
           
            Usuario ||--o{ Historial_Sesion : "tiene"
            Usuario }o--|| Rol : "puede tener" 
```


 # <center><p style="color:red;">Diagramas de entidad Relacion </p></center>
        
 ### <u>Diagrama de registro</u>

```mermaid        
        erDiagram
        
            Usuario || --o{ Registro : realiza
        
            Usuario {
        
                int id_usuario
                string nombre
                string email
                string contrasena
            }
        
            Registro{
        
                int id_registro
                int id_usuario
                strign estado
        
            }
        
            
```

### Diagrama Inicio de sesion

```mermaid
    erDiagram
        Usuario {
            int id_usuario PK
            string nombre
            string correo
            string contrasena
            boolean estado
        }
        
        Rol {
            int id_rol PK
            string nombre_rol
        }
        
        Historial_Sesion {
            int id_historial PK
            int id_usuario FK
            datetime fecha_inicio
            datetime fecha_fin
            string direccion_ip
        }
        
        Usuario ||--o{ Historial_Sesion : "tiene"
        Usuario }o--|| Rol : "puede tener"
 ```


# <center><p style="color:Blue;">Gr谩fica de timpo invertido</p></center>

```mermaid
pie showData
    title Lenguajes utilizados en el proyecto
    "Programaci贸n": 20
    "Documentaci贸n": 20
    "Soluci贸n de errores": 20
    "B煤squeda de informaci贸n": 20


```

# <center><p style="color:Green;">Diagrama Git</p></center>

```mermaid
gitGraph
    commit id: "Configuraci贸n inicial"
    branch dev
    commit id: "Primer commit"
    checkout main
    commit id: "Implementaci贸n diagramas"
    merge dev
    commit id: "Implementaci贸n de im谩genes y de videos"
    branch bugfix
    commit id: "Error 4de diagramas corregido"
    checkout dev
    commit id: "Implementaci贸n de diagrama Journey" tag: "Versi贸n final"
    merge bugfix
    checkout main
    commit id: "Finalizaci贸n del Read.me"
```

# <center><p style="color:Violet;">Diagrama Gantt</p></center>

```mermaid

gantt
    title Cine360
    dateFormat  YYYY-MM-DD
    section Investigaci贸n y Planificaci贸n
        Estudio de antecedentes       :done,    t1, 2024-02-01, 2024-02-15
        Definici贸n de requisitos      :done,    t2, 2024-02-16, 2024-02-28
        Dise帽o del esquema del TFG    :active,  t3, 2024-02-29, 2024-03-10
    section Desarrollo del Proyecto
        Dise帽o de la base de datos    :  done      t4, 2024-03-11, 2024-03-25
        Desarrollo del backend        :done    t5, 2024-03-26, 2024-04-15
        Desarrollo del frontend       :  done      t6, 2024-04-16, 2024-05-05
        Integraci贸n y pruebas         :  done      t7, 2024-05-06, 2024-05-20
    section Documentaci贸n
        Redacci贸n del TFG             :  active      t8, 2024-05-21, 2024-06-10
        Revisi贸n y correcci贸n         :  active      t9, 2024-06-11, 2024-06-20
    section Presentaci贸n
        Preparaci贸n de la defensa     : active       t10, 2024-06-21, 2024-06-30
        Presentaci贸n final            : active       t11, 2024-07-01, 2024-07-05

```

# <center><p style="color:Orange;">Diagrama de Requirimientos</p></center>

```mermaid




 

```


# <center><p style="color:Brown;">Diagrama Journey</p></center>

```mermaid

    journey
        title Registrarse
         section Inicio
            Usuario visita la p谩gina de registro: 5
            Usuario hace clic en "Registrarse": 4
         section Registro
            Usuario ingresa correo y contrase帽a: 5
            Usuario confirma datos: 4
            Usuario env铆a el formulario: 5
         section Verificaci贸n
            Sistema env铆a correo de confirmaci贸n: 3
            Usuario verifica su correo: 5
         section Finalizaci贸n
            Registro completado, usuario puede iniciar sesi贸n: 5
```



![alt text](image-2.png)
